<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<style>
			#contents {
				padding: 5px;
				border: 1px green solid;
			}
		</style>
		<title>Ex 4</title>
	</head>

	<body>
		<fieldset id="contents">
			<legend>#contents</legend>
			<p>
				¿Que tal si leemos
				<a href="https://wikipedia.org">Wikipedia</a> o visitamos
				<a href="https://W3.org"><i>W3.org</i></a> y aprendemos sobre
				los estándares modernos?
			</p>
		</fieldset>
	</body>

	<script>
		// 4. Descarga o código HTML e fai que ao pulsar en calquera ligazón do elemento con id “contents”, se pida confirmación antes de redirixir ao novo enderezo. Se a persoa pulsa cancelar na confirmación, non se navegará á nova páxina.
		// Utiliza un só manexador de eventos

		function exitConfirmation(event) {
			console.log(this);

			console.log(event.target);

			if (event.target.nodeName == 'A' || event.target.nodeName == 'I') {
				event.preventDefault();
				console.log('proba');
				let btn = document.createElement('button');
				btn.style.padding = '5px';
				btn.innerHTML = `Seguro que quieres salir hacia ${event.target.innerHTML}`;
				btn.addEventListener('click', () => {});
				document.body.append(btn);
			}
		}

		let ligazons = document.getElementById('contents').querySelector('p');
		ligazons.addEventListener('click', exitConfirmation);
	</script>
</html>
